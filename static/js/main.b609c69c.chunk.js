(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{105:function(e,t,n){e.exports=n(288)},110:function(e,t,n){},111:function(e,t,n){},288:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(14),i=n.n(o),c=(n(110),n(3)),l=n(20),s=(n(111),Object(a.createContext)({})),u=n(4),d=n.n(u),f=n(9),p=n(10),v=n(56),m=n.n(v);function O(){var e=Object(f.a)(["\n    font-size: 1rem;\n    font-weight: bold;\n    padding: 10px;\n    border-bottom: 1px solid #f5f5f5;\n    cursor: pointer;\n"]);return O=function(){return e},e}function h(){var e=Object(f.a)(["\n    width: 135px;\n    top: 0;\n    padding: 0;\n    margin: 0;\n    margin-top: 0;\n    position: absolute;\n    list-style: none;\n    text-align: center;\n    z-index: 100;\n    display: none;\n    transition: all 0.5s ease-in-out;\n"]);return h=function(){return e},e}function b(){var e=Object(f.a)(["\n    margin-top: 50px;\n    height: 50px;\n    display: flex;\n    justify-content: space-between;\n    position: relative;\n"]);return b=function(){return e},e}var g=p.a.div(b()),E=p.a.ul(h()),x=p.a.li(O()),w=function(e){var t=Object(a.useState)("400px"),n=Object(c.a)(t,2),o=n[0],i=n[1];Object(a.useEffect)(function(){i(e.width)},[e.width]);var l=Object(a.useContext)(s),u=(l.state,l.dispatch),f=Object(a.useState)(!1),p=Object(c.a)(f,2);p[0],p[1];function v(e){return function(t){var n=document.getElementById("game-level-btn");n.firstChild.textContent="GAME LEVEL",n.firstChild.style.width="auto",document.getElementById("game-levels").style.cssText="display: none",u({type:"restart",gameRestart:!0}),u({type:"setGameLevel",gameLevel:e}),u({type:"isLevelUpdate",isLevelUpdate:!0})}}return r.a.createElement(g,{style:{width:o}},r.a.createElement(E,{id:"game-levels"},r.a.createElement(x,{onClick:v(4)},"4x4"),r.a.createElement(x,{onClick:v(5)},"5x5"),r.a.createElement(x,{onClick:v(10)},"10x10")),r.a.createElement(m.a,{variant:"contained",color:"secondary",size:"medium",id:"game-level-btn",onClick:function(){var e=document.getElementById("game-level-btn");e.firstChild.textContent="",e.firstChild.style.width="103px";var t=document.getElementById("game-levels");t.style.cssText="display: block",t.addEventListener("wheel",function(e){var n=t.style.top;t.style.cssText="top: ".concat(function(e,t){var n=Number(e.split("px")[0]);return t>0?n>=-48?n-48:n:t<0?n<=-48?n+48:n:void 0}(n,e.deltaY),"px; display: block")})}},"GAME LEVEL"),r.a.createElement(m.a,{variant:"contained",color:"secondary",size:"medium",onClick:function(){u({type:"restart",gameRestart:!0}),d.a.set("score",0,{path:"/"})}},"RESTART"))},y=function(e){var t=Object(a.useContext)(s),n=t.state,o=(t.dispatch,Object(a.useState)(0)),i=Object(c.a)(o,2),l=i[0],u=i[1];Object(a.useEffect)(function(){u(e.width)},[e.width]);var d=Object(a.useState)(e.position),f=Object(c.a)(d,2),p=f[0],v=f[1];Object(a.useEffect)(function(){v(e.position)},[e.position]);var m=Object(a.useState)(n.COLOR_SCHEME[2]),O=Object(c.a)(m,2),h=O[0],b=O[1];return Object(a.useEffect)(function(){n.COLOR_SCHEME[e.num]&&b(n.COLOR_SCHEME[e.num])},[e.num]),r.a.createElement("div",{style:{width:l+"px",height:l+"px",position:"absolute",left:p[0]*l+"px",top:p[1]*l+"px",lineHeight:l-20+"px",textAlign:"center",color:e.num>256?"#f2f2f2":"#000",fontSize:e.gameLevel<10?e.num>64?"2rem":"2.5rem":"0.8rem",fontWeight:"bold",backgroundColor:h,boxSizing:"border-box",border:"10px solid "+n.BG_COLOR}},e.num)},j=function(e){var t=Object(a.useContext)(s),n=t.state,o=(t.dispatch,Object(a.useState)(e.data)),i=Object(c.a)(o,2),l=i[0],u=i[1];Object(a.useEffect)(function(){u(e.data)},[e.data]);var d=Object(a.useState)(e.blockWidth),f=Object(c.a)(d,2),p=f[0],v=f[1];return Object(a.useEffect)(function(){v(e.blockWidth)},[e.blockWidth]),r.a.createElement(a.Fragment,null,l.map(function(e,t){return r.a.createElement(y,{num:e.num,key:t,position:e.position,width:p,gameLevel:n.BLOCKS_IN_ONE_LINE})}))},L=n(7),C=n(2),_=n.n(C),N=function(e,t){for(var n=[],a=[],r=0;r<t;r+=1)a.push(0);for(var o=0;o<t;o+=1)n.push([].concat(a));return e?(e.map(function(e){n[e.position[0]][e.position[1]]=e.num}),n):n};N.propTypes={data:_.a.arrayOf(_.a.shape({position:_.a.arrayOf(_.a.number),num:_.a.number}))};var S=function(e,t){for(var n=[],a=0;a<t;a+=1)for(var r=0;r<t;r+=1)e[a][r]&&n.push({position:[a,r],num:e[a][r]});return n};S.propTypes={data:_.a.arrayOf(_.a.number)};var I=n(29),k=n.n(I),A=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4?arguments[4]:void 0;if(n)return t;var o=N(t,r);if("ArrowDown"===e){console.log("ArrowDown");for(var i=Object(L.a)(o),c=r-1;c>=0;c-=1){for(var l=[],s=r-1;s>=0;s-=1)0!==i[c][s]&&(l.push(i[c][s]),i[c][s]=0);for(var u=0;u<l.length-1;u+=1)0===l[u]&&(l[u]=l[u+1],l[u+1]=0),l[u]===l[u+1]&&(l[u]=l[u]+l[u+1],l[u+1]=0,a+=l[u]);l.length=r;for(var d=0;d<l.length;d+=1)l[d]||(l[d]=0);i[c]=l.reverse()}return[S(i,r),a]}if("ArrowUp"===e){console.log("ArrowUp");for(var f=Object(L.a)(o),p=r-1;p>=0;p-=1){for(var v=[],m=r-1;m>=0;m-=1)0!==f[p][m]&&(v.push(f[p][m]),f[p][m]=0);for(var O=v.length-1;O>0;O-=1)0===v[O]&&(v[O]=v[O-1],v[O-1]=0),v[O]===v[O-1]&&(v[O]=v[O]+v[O-1],v[O-1]=0,a+=v[O]);for(var h=v.length-1;h>0;h-=1)v[h]||(v[h]=0);f[p]=v.reverse()}return[S(f,r),a]}if("ArrowLeft"===e){console.log("ArrowLeft");for(var b=k.a.apply(void 0,Object(L.a)(o)),g=r-1;g>=0;g-=1){for(var E=[],x=0;x<=r-1;x+=1)0!==b[g][x]&&(E.push(b[g][x]),b[g][x]=0);for(var w=0;w<E.length-1;w+=1)0===E[w]&&(E[w]=E[w+1],E[w+1]=0),E[w]===E[w+1]&&(E[w]=E[w]+E[w+1],E[w+1]=0,a+=E[w]);for(var y=r-1;y>0;y-=1)E[y]||(E[y]=0);b[g]=E}return[S(k.a.apply(void 0,Object(L.a)(b)),r),a]}if("ArrowRight"===e){console.log("ArrowRight");for(var j=k.a.apply(void 0,Object(L.a)(o)),C=r-1;C>=0;C-=1){for(var _=[],I=r-1;I>=0;I-=1)0!==j[C][I]&&(_.push(j[C][I]),j[C][I]=0);for(var A=0;A<_.length-1;A+=1)0===_[A]&&(_[A]=_[A+1],_[A+1]=0),_[A]===_[A+1]&&(_[A]=_[A]+_[A+1],_[A+1]=0,a+=_[A]);for(var B=r-1;B>0;B-=1)_[B]||(_[B]=0);j[C]=_.reverse()}return[S(k.a.apply(void 0,Object(L.a)(j)),r),a]}},B=n(43),R=n.n(B),G=n(101),H=n.n(G),M=function(e,t){var n=N(e,t),a=Object(L.a)(n),r=W(a,2,t);return S(r,t)},T=function(e,t){var n=N(e,t),a=Object(L.a)(n),r=W(a,1,t);return!!r&&S(r,t)},W=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2?arguments[2]:void 0,a=[],r=0,o=Object(L.a)(e),i=0;i<n;i+=1)for(var l=0;l<n;l+=1)o||(o=0);for(var s=0;s<o.length;s+=1)for(var u=0;u<o[s].length;u+=1)o[s][u]>r&&(r=o[s][u]),o[s][u]||a.push([s,u]);if(0===a.length)return!1;if(2===t){var d=z(r),f=Object(c.a)(d,2),p=f[0],v=f[1],m=K(a),O=Object(c.a)(m,2),h=O[0],b=O[1];return o[h[0]][h[1]]=p,o[b[0]][b[1]]=v,o}var g=z(r,1),E=K(a,1);return o[E[0]][E[1]]=g,o};M.defaultProps={data:[]},M.propTypes={data:_.a.arrayOf(_.a.shape({position:_.a.arrayOf(_.a.number),num:_.a.number}))};var z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=2;e>2&&(n=e);var a=[2,4,8,16,32].filter(function(e){return e<=n}),r=R()(a),o=R()(a);return 2===t?[r,o]:r};z.propTypes={topFloor:_.a.number.isRequired};var K=function(e){return 2===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:2)?H()(e,2):R()(e)};K.propTypes={potentialPosition:_.a.arrayOf(_.a.arrayOf(_.a.number)).isRequired};var U=n(102),J=n.n(U),P=n(103),D=n.n(P),F=function(e){var t=Object(a.useContext)(s),n=t.state,o=t.dispatch;d.a.getJSON("data")||d.a.set("data",[],{path:""});var i=d.a.getJSON("data")&&0===d.a.getJSON("data").length?M([],n.BLOCKS_IN_ONE_LINE):d.a.getJSON("data"),l=Object(a.useState)(i),u=Object(c.a)(l,2),f=u[0],p=u[1];function v(e){if(console.log(e.code),"ArrowDown"===e.code||"ArrowUp"===e.code||"ArrowLeft"===e.code||"ArrowRight"===e.code){var t=A(e.code,f,n.isGameOver,n.score,n.BLOCKS_IN_ONE_LINE),a=Object(c.a)(t,2),r=a[0],i=a[1];o({type:"updateScore",score:i}),d.a.set("score",n.score+i,{path:""});var l=!1;if(J()(r,f,D.a).length||(l=!0),l)Math.pow(n.BLOCKS_IN_ONE_LINE,2)===r.length&&(o({type:"gameOver",isGameOver:!0}),d.a.set("data",[],{path:""}));else(r=T(r,n.BLOCKS_IN_ONE_LINE))?(p(r),d.a.set("data",r,{path:""})):(o({type:"gameOver",isGameOver:!0}),d.a.set("data",r,{path:""}))}}return n.gameRestart&&(d.a.set("data",[],{path:"/"}),d.a.set("BlocksPerLine",n.BLOCKS_IN_ONE_LINE,{path:"/"}),window.location.reload(!1)),Object(a.useEffect)(function(){return n.isLevelUpdate&&(p(M([],n.BLOCKS_IN_ONE_LINE)),o({type:"isLevelUpdate",isLevelUpdate:!1})),window.addEventListener("keydown",v),function(){window.removeEventListener("keydown",v)}}),r.a.createElement("div",{style:{position:"absolute"}},r.a.createElement(j,{data:f,blockWidth:e.blockWidth}))};F.defaultProps={blockWidth:120};var V=F,q=function(e){for(var t=Object(a.useContext)(s),n=t.state,o=(t.dispatch,[]),i=0;i<Math.pow(n.BLOCKS_IN_ONE_LINE,2);i++)o.push(i);var l=Object(a.useState)(e.gridHeight),u=Object(c.a)(l,2),d=u[0],f=u[1];return Object(a.useEffect)(function(){f(e.gridHeight)},[e.gridHeight]),r.a.createElement(a.Fragment,null,o.map(function(e){return r.a.createElement("div",{key:e,id:"grid_"+e,style:{height:d,width:d,flexGrow:"1",flexShrink:"1",flexBasis:d,backgroundColor:n.BG_BLOCK_COLOR,border:"10px solid "+n.BG_COLOR,boxSizing:"border-box"}})}))},Y=function(e){var t=Object(a.useContext)(s),n=t.state;t.dispatch;return r.a.createElement("div",{style:{width:e.width,height:e.height,fontSize:"4rem",backgroundColor:"rgba(16,17,20,0.8)",textAlign:"center",lineHeight:e.height,position:"absolute",display:n.isGameOver?"block":"none",zIndex:"1000"}},"GAME OVER")};function $(){var e=Object(f.a)(["\n    flex: 1 1 auto;\n    display: flex;\n"]);return $=function(){return e},e}function Q(){var e=Object(f.a)(["\n    flex:2 1 0;\n    min-width: 400px;\n    max-width: 500px;\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    padding: 10px;\n    box-sizing: content-box;\n    position: relative;\n"]);return Q=function(){return e},e}function X(){var e=Object(f.a)(["\n    width: 100%;\n    display: flex;\n"]);return X=function(){return e},e}var Z=p.a.div(X()),ee=p.a.div(Q()),te=p.a.div($()),ne=function(){var e=Object(a.useContext)(s),t=e.state,n=(e.dispatch,400),o=Object(a.useState)("0"),i=Object(c.a)(o,2),l=i[0],u=i[1],d=Object(a.useState)("0"),f=Object(c.a)(d,2),p=f[0],v=f[1];function m(){var e=window.getComputedStyle(document.getElementById("mainHolder")).width,a=Number(e.split("px")[0]),r=(e=a<n?n:a)/t.BLOCKS_IN_ONE_LINE;v(r),u(e)}Object(a.useEffect)(function(){return m(),window.addEventListener("resize",m),function(){window.removeEventListener("resize",m)}});var O=Object(a.useState)(Number(p)),h=Object(c.a)(O,2),b=h[0],g=h[1];return Object(a.useEffect)(function(){g(Number(p))},[p]),r.a.createElement(a.Fragment,null,r.a.createElement(Y,{width:window.innerWidth+"px",height:window.innerHeight+"px"}),r.a.createElement(Z,null,r.a.createElement(te,{className:"sideHolder"}),r.a.createElement(ee,{id:"mainHolder",style:{height:l+"px",backgroundColor:t.BG_COLOR}},r.a.createElement(V,{blockWidth:b}),r.a.createElement(q,{gridHeight:p+"px"}),r.a.createElement(w,{width:l+"px"})),r.a.createElement(te,{className:"sideHolder"})))};function ae(){var e=Object(f.a)(["\n    width: 100%;\n    display: flex;\n    margin: 10px 0px;\n"]);return ae=function(){return e},e}var re=p.a.div(ae()),oe=function(){var e=Object(a.useContext)(s),t=e.state;e.dispatch;return r.a.createElement(re,{style:{height:t.HEADER_HEIGHT}},r.a.createElement("div",{style:{flex:"1 1 auto"}}),r.a.createElement("div",{style:{flex:"2 1 0",display:"flex",minWidth:"400px",maxWidth:"500px"}},r.a.createElement("div",{style:{flex:"1 1 auto",textAlign:"left",display:"flex",flexDirection:"column",justifyContent:"center",height:t.HEADER_HEIGHT,maxWidth:"50%"}},r.a.createElement("div",{style:{flex:"2 1 auto",textAlign:"left",fontSize:"3rem",fontWeight:"bold"}},t.GAME_NAME),r.a.createElement("div",{style:{flex:"1 1 auto",textAlign:"left",fontSize:"0.8rem"}},t.GAME_DESCRIPTION)),r.a.createElement("div",{style:{flex:"1 1 auto",color:t.COLOR_SCHEME[128]}},r.a.createElement("h1",null,t.score))),r.a.createElement("div",{style:{flex:"1 1 auto"}}))},ie=5,ce="rgba(136, 129, 107, 1)",le="rgba(210, 207, 207, 0.8)",se="2048",ue="Join those numbers and get as big as you can, 2048 is not the end!",de="15vh",fe={2:"#f7f3e3",4:"#fff4cc",8:"#f9ca86",16:"#f7ae47",32:"#f29c71",64:"#d3481d",128:"#fff09b",256:"#ffe85c",512:"#ffd83f",1024:"#ffd017",2048:"#ffad16",super:"#0094c8"};var pe=function(){var e=d.a.getJSON("score");d.a.getJSON("BlocksPerLine")||d.a.set("BlocksPerLine",ie,{path:"/"});var t={isGameOver:!1,score:e||0,gameRestart:!1,isLevelUpdate:!1,BLOCKS_IN_ONE_LINE:d.a.getJSON("BlocksPerLine")?d.a.getJSON("BlocksPerLine"):ie,BG_COLOR:ce,BG_BLOCK_COLOR:le,GAME_NAME:se,GAME_DESCRIPTION:ue,HEADER_HEIGHT:de,COLOR_SCHEME:fe},n=Object(a.useReducer)(function(e,t){switch(t.type){case"gameOver":return Object(l.a)({},e,{isGameOver:t.isGameOver});case"updateScore":return Object(l.a)({},e,{score:t.score});case"restart":return Object(l.a)({},e,{gameRestart:t.gameRestart});case"setGameLevel":return Object(l.a)({},e,{BLOCKS_IN_ONE_LINE:t.gameLevel});case"isLevelUpdate":return Object(l.a)({},e,{isLevelUpdate:t.isLevelUpdate});default:return}},t),o=Object(c.a)(n,2),i=o[0],u=o[1];return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"App-header"},r.a.createElement(s.Provider,{value:{state:i,dispatch:u}},r.a.createElement(oe,null),r.a.createElement(ne,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(287);i.a.render(r.a.createElement(pe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[105,1,2]]]);
//# sourceMappingURL=main.b609c69c.chunk.js.map