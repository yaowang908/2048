(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{106:function(e,t,a){e.exports=a(292)},111:function(e,t,a){},112:function(e,t,a){},292:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(14),i=a.n(o),c=(a(111),a(3)),l=a(23),s=(a(112),Object(n.createContext)({})),u=a(2),d=a.n(u),f=a(9),p=a(10),O=a(32),v=a.n(O);function m(){var e=Object(f.a)(["\n    font-size: 1rem;\n    font-weight: bold;\n    padding: 10px;\n    border-bottom: 1px solid #f5f5f5;\n    cursor: pointer;\n"]);return m=function(){return e},e}function h(){var e=Object(f.a)(["\n    width: 135px;\n    top: 0;\n    padding: 0;\n    margin: 0;\n    margin-top: 0;\n    position: absolute;\n    list-style: none;\n    text-align: center;\n    z-index: 100;\n    display: none;\n    transition: all 0.5s ease-in-out;\n"]);return h=function(){return e},e}function g(){var e=Object(f.a)(["\n    margin-top: 50px;\n    height: 50px;\n    display: flex;\n    justify-content: space-between;\n    position: relative;\n"]);return g=function(){return e},e}var b=p.a.div(g()),E=p.a.ul(h()),w=p.a.li(m()),x=function(e){var t=Object(n.useState)("400px"),a=Object(c.a)(t,2),o=a[0],i=a[1];Object(n.useEffect)(function(){i(e.width)},[e.width]);var l=Object(n.useContext)(s),u=(l.state,l.dispatch),f=Object(n.useState)(!1),p=Object(c.a)(f,2);p[0],p[1];function O(e){return function(t){var a=document.getElementById("game-level-btn");a.firstChild.textContent="GAME LEVEL",a.firstChild.style.width="auto",document.getElementById("game-levels").style.cssText="display: none",u({type:"restart",gameRestart:!0}),d.a.set("score",0,{path:""}),u({type:"setGameLevel",gameLevel:e}),u({type:"isLevelUpdate",isLevelUpdate:!0})}}return r.a.createElement(b,{style:{width:o}},r.a.createElement(E,{id:"game-levels"},r.a.createElement(w,{onClick:O(4)},"4x4"),r.a.createElement(w,{onClick:O(5)},"5x5"),r.a.createElement(w,{onClick:O(10)},"10x10")),r.a.createElement(v.a,{variant:"contained",color:"secondary",size:"medium",id:"game-level-btn",onClick:function(){var e=document.getElementById("game-level-btn");e.firstChild.textContent="",e.firstChild.style.width="103px";var t=document.getElementById("game-levels");t.style.cssText="display: block",t.addEventListener("wheel",function(e){var a=t.style.top;t.style.cssText="top: ".concat(function(e,t){var a=Number(e.split("px")[0]);return t>0?a>=-48?a-48:a:t<0?a<=-48?a+48:a:void 0}(a,e.deltaY),"px; display: block")})}},"GAME LEVEL"),r.a.createElement(v.a,{variant:"contained",color:"secondary",size:"medium",onClick:function(){u({type:"restart",gameRestart:!0}),d.a.set("score",0,{path:""})}},"RESTART"))},L=function(e){var t=Object(n.useContext)(s),a=t.state,o=(t.dispatch,Object(n.useState)(0)),i=Object(c.a)(o,2),l=i[0],u=i[1];Object(n.useEffect)(function(){u(e.width)},[e.width]);var d=Object(n.useState)(e.position),f=Object(c.a)(d,2),p=f[0],O=f[1];Object(n.useEffect)(function(){O(e.position)},[e.position]);var v=Object(n.useState)(a.COLOR_SCHEME[2]),m=Object(c.a)(v,2),h=m[0],g=m[1];return Object(n.useEffect)(function(){a.COLOR_SCHEME[e.num]&&g(a.COLOR_SCHEME[e.num])},[e.num]),r.a.createElement("div",{style:{width:l+"px",height:l+"px",position:"absolute",left:p[0]*l+"px",top:p[1]*l+"px",lineHeight:l-20+"px",textAlign:"center",color:e.num>256?"#f2f2f2":"#000",fontSize:e.gameLevel<10?e.num>64?"2rem":"2.5rem":"0.8rem",fontWeight:"bold",backgroundColor:h,boxSizing:"border-box",border:"10px solid "+a.BG_COLOR}},e.num)},j=function(e){var t=Object(n.useContext)(s),a=t.state,o=(t.dispatch,Object(n.useState)(e.data)),i=Object(c.a)(o,2),l=i[0],u=i[1];Object(n.useEffect)(function(){u(e.data)},[e.data]);var d=Object(n.useState)(e.blockWidth),f=Object(c.a)(d,2),p=f[0],O=f[1];return Object(n.useEffect)(function(){O(e.blockWidth)},[e.blockWidth]),r.a.createElement(n.Fragment,null,l.map(function(e,t){return r.a.createElement(L,{num:e.num,key:t,position:e.position,width:p,gameLevel:a.BLOCKS_IN_ONE_LINE})}))},y=a(7),N=a(1),_=a.n(N),S=function(e,t){for(var a=[],n=[],r=0;r<t;r+=1)n.push(0);for(var o=0;o<t;o+=1)a.push([].concat(n));return e?(e.map(function(e){a[e.position[0]][e.position[1]]=e.num}),a):a};S.propTypes={data:_.a.arrayOf(_.a.shape({position:_.a.arrayOf(_.a.number),num:_.a.number}))};var C=function(e,t){for(var a=[],n=0;n<t;n+=1)for(var r=0;r<t;r+=1)e[n][r]&&a.push({position:[n,r],num:e[n][r]});return a};C.propTypes={data:_.a.arrayOf(_.a.number)};var I=a(47),A=a.n(I),B=a(103),R=a.n(B),k=function(e,t){var a=S(e,t),n=Object(y.a)(a),r=G(n,2,t);return C(r,t)},G=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,a=arguments.length>2?arguments[2]:void 0,n=[],r=0,o=Object(y.a)(e),i=0;i<a;i+=1)for(var l=0;l<a;l+=1)o||(o=0);for(var s=0;s<o.length;s+=1)for(var u=0;u<o[s].length;u+=1)o[s][u]>r&&(r=o[s][u]),o[s][u]||n.push([s,u]);if(0===n.length)return!1;if(2===t){var d=H(r),f=Object(c.a)(d,2),p=f[0],O=f[1],v=K(n),m=Object(c.a)(v,2),h=m[0],g=m[1];return o[h[0]][h[1]]=p,o[g[0]][g[1]]=O,o}var b=H(r,1),E=K(n,1);return o[E[0]][E[1]]=b,o};k.defaultProps={data:[]},k.propTypes={data:_.a.arrayOf(_.a.shape({position:_.a.arrayOf(_.a.number),num:_.a.number}))};var H=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,a=2;e>2&&(a=e);var n=[2,4,8,16,32].filter(function(e){return e<=a}),r=A()(n),o=A()(n);return 2===t?[r,o]:r};H.propTypes={topFloor:_.a.number.isRequired};var K=function(e){return 2===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:2)?R()(e,2):A()(e)};K.propTypes={potentialPosition:_.a.arrayOf(_.a.arrayOf(_.a.number)).isRequired};var M=a(21),T=a.n(M),z=a(22),J=a.n(z),U=a(33),W=a.n(U),D=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4?arguments[4]:void 0;if(a)return t;var o=S(t,r);if("ArrowDown"===e){console.log("ArrowDown");for(var i=Object(y.a)(o),c=r-1;c>=0;c-=1){for(var l=[],s=r-1;s>=0;s-=1)0!==i[c][s]&&(l.push(i[c][s]),i[c][s]=0);for(var u=0;u<l.length-1;u+=1)0===l[u]&&(l[u]=l[u+1],l[u+1]=0),l[u]===l[u+1]&&(l[u]=l[u]+l[u+1],l[u+1]=0,n+=l[u]);l.length=r;for(var d=0;d<l.length;d+=1)l[d]||(l[d]=0);i[c]=l.reverse()}return[C(i,r),n]}if("ArrowUp"===e){console.log("ArrowUp");for(var f=Object(y.a)(o),p=r-1;p>=0;p-=1){for(var O=[],v=r-1;v>=0;v-=1)0!==f[p][v]&&(O.push(f[p][v]),f[p][v]=0);for(var m=O.length-1;m>0;m-=1)0===O[m]&&(O[m]=O[m-1],O[m-1]=0),O[m]===O[m-1]&&(O[m]=O[m]+O[m-1],O[m-1]=0,n+=O[m]);for(var h=O.length-1;h>0;h-=1)O[h]||(O[h]=0);f[p]=O.reverse()}return[C(f,r),n]}if("ArrowLeft"===e){console.log("ArrowLeft");for(var g=W.a.apply(void 0,Object(y.a)(o)),b=r-1;b>=0;b-=1){for(var E=[],w=0;w<=r-1;w+=1)0!==g[b][w]&&(E.push(g[b][w]),g[b][w]=0);for(var x=0;x<E.length-1;x+=1)0===E[x]&&(E[x]=E[x+1],E[x+1]=0),E[x]===E[x+1]&&(E[x]=E[x]+E[x+1],E[x+1]=0,n+=E[x]);for(var L=r-1;L>0;L-=1)E[L]||(E[L]=0);g[b]=E}return[C(W.a.apply(void 0,Object(y.a)(g)),r),n]}if("ArrowRight"===e){console.log("ArrowRight");for(var j=W.a.apply(void 0,Object(y.a)(o)),N=r-1;N>=0;N-=1){for(var _=[],I=r-1;I>=0;I-=1)0!==j[N][I]&&(_.push(j[N][I]),j[N][I]=0);for(var A=0;A<_.length-1;A+=1)0===_[A]&&(_[A]=_[A+1],_[A+1]=0),_[A]===_[A+1]&&(_[A]=_[A]+_[A+1],_[A+1]=0,n+=_[A]);for(var B=r-1;B>0;B-=1)_[B]||(_[B]=0);j[N]=_.reverse()}return[C(W.a.apply(void 0,Object(y.a)(j)),r),n]}},P=function(e,t,a,n,r){if(console.log(e),("ArrowDown"===e.code||"ArrowUp"===e.code||"ArrowLeft"===e.code||"ArrowRight"===e.code)&&!t.isGameOver){var o=D(e.code,n,t.isGameOver,t.score,t.BLOCKS_IN_ONE_LINE),i=Object(c.a)(o,2),l=i[0],s=i[1];a({type:"updateScore",score:s}),d.a.set("score",t.score+s,{path:""});var u=!1;if(T()(l,n,J.a).length||(u=!0),u)Math.pow(t.BLOCKS_IN_ONE_LINE,2)===l.length&&F(n,t)&&(a({type:"gameOver",isGameOver:!0}),d.a.set("data",[],{path:""}),d.a.set("score",0,{path:""}));else(l=function(e,t){var a=S(e,t),n=Object(y.a)(a),r=G(n,1,t);return!!r&&C(r,t)}(l,t.BLOCKS_IN_ONE_LINE))?(r(l),d.a.set("data",l,{path:""})):(a({type:"gameOver",isGameOver:!0}),d.a.set("data",l,{path:""}))}},F=function(e,t){var a=D("ArrowUp",e,t.isGameOver,t.score,t.BLOCKS_IN_ONE_LINE),n=Object(c.a)(a,2),r=n[0],o=(n[1],D("ArrowDown",e,t.isGameOver,t.score,t.BLOCKS_IN_ONE_LINE)),i=Object(c.a)(o,2),l=i[0],s=(i[1],D("ArrowLeft",e,t.isGameOver,t.score,t.BLOCKS_IN_ONE_LINE)),u=Object(c.a)(s,2),d=u[0],f=(u[1],D("ArrowRight",e,t.isGameOver,t.score,t.BLOCKS_IN_ONE_LINE)),p=Object(c.a)(f,2),O=p[0],v=(p[1],T()(r,e,J.a)),m=T()(l,e,J.a),h=T()(d,e,J.a),g=T()(O,e,J.a);return!(v.length||m.length||h.length||g.length)},V=function(e){var t=Object(n.useContext)(s),a=t.state,o=t.dispatch;d.a.getJSON("data")||d.a.set("data",[],{path:""});var i=d.a.getJSON("data")&&0===d.a.getJSON("data").length?k([],a.BLOCKS_IN_ONE_LINE):d.a.getJSON("data"),l=Object(n.useState)(i),u=Object(c.a)(l,2),f=u[0],p=u[1];function O(e){return P(e,a,o,f,p)}return a.gameRestart&&(d.a.set("data",[],{path:""}),d.a.set("BlocksPerLine",a.BLOCKS_IN_ONE_LINE,{path:""}),window.location.reload(!1)),Object(n.useEffect)(function(){return a.isLevelUpdate&&(p(k([],a.BLOCKS_IN_ONE_LINE)),o({type:"isLevelUpdate",isLevelUpdate:!1})),a.isGameOver||window.addEventListener("keydown",O),function(){window.removeEventListener("keydown",O)}}),Object(n.useEffect)(function(){p(e.data)},[e.data]),r.a.createElement("div",{style:{position:"absolute"}},r.a.createElement(j,{data:f,blockWidth:e.blockWidth}))};V.defaultProps={blockWidth:120};var q=V,Y=function(e){for(var t=Object(n.useContext)(s),a=t.state,o=(t.dispatch,[]),i=0;i<Math.pow(a.BLOCKS_IN_ONE_LINE,2);i++)o.push(i);var l=Object(n.useState)(e.gridHeight),u=Object(c.a)(l,2),d=u[0],f=u[1];return Object(n.useEffect)(function(){f(e.gridHeight)},[e.gridHeight]),r.a.createElement(n.Fragment,null,o.map(function(e){return r.a.createElement("div",{key:e,id:"grid_"+e,style:{height:d,width:d,flexGrow:"1",flexShrink:"1",flexBasis:d,backgroundColor:a.BG_BLOCK_COLOR,border:"10px solid "+a.BG_COLOR,boxSizing:"border-box"}})}))},$=function(e){var t=Object(n.useContext)(s),a=t.state,o=t.dispatch;return r.a.createElement("div",{style:{width:e.width,height:e.height,fontSize:"4rem",backgroundColor:"rgba(16,17,20,0.8)",textAlign:"center",lineHeight:e.height,position:"absolute",display:a.isGameOver?"block":"none",zIndex:"1000"}},r.a.createElement("span",null,"GAME    "),r.a.createElement(v.a,{variant:"contained",color:"secondary",size:"medium",onClick:function(){o({type:"restart",gameRestart:!0}),d.a.set("score",0,{path:""})}},"RESTART"),r.a.createElement("span",null,"    OVER"))},Q=a(104);function X(){var e=Object(f.a)(["\n    flex: 1 1 auto;\n    display: flex;\n"]);return X=function(){return e},e}function Z(){var e=Object(f.a)(["\n    flex:2 1 0;\n    min-width: 400px;\n    max-width: 500px;\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    padding: 10px;\n    box-sizing: content-box;\n    position: relative;\n"]);return Z=function(){return e},e}function ee(){var e=Object(f.a)(["\n    width: 100%;\n    display: flex;\n"]);return ee=function(){return e},e}var te=p.a.div(ee()),ae=p.a.div(Z()),ne=p.a.div(X()),re=function(){var e=Object(n.useContext)(s),t=e.state,a=e.dispatch,o=400,i=Object(n.useState)("0"),l=Object(c.a)(i,2),u=l[0],f=l[1],p=Object(n.useState)("0"),O=Object(c.a)(p,2),v=O[0],m=O[1];function h(){var e=window.getComputedStyle(document.getElementById("mainHolder")).width,a=Number(e.split("px")[0]),n=(e=a<o?o:a)/t.BLOCKS_IN_ONE_LINE;m(n),f(e)}Object(n.useEffect)(function(){return h(),window.addEventListener("resize",h),function(){window.removeEventListener("resize",h)}});var g=Object(n.useState)(Number(v)),b=Object(c.a)(g,2),E=b[0],w=b[1];Object(n.useEffect)(function(){w(Number(v))},[v]),d.a.getJSON("data")||d.a.set("data",[],{path:""});var L=d.a.getJSON("data")&&0===d.a.getJSON("data").length?k([],t.BLOCKS_IN_ONE_LINE):d.a.getJSON("data"),j=Object(n.useState)(L),y=Object(c.a)(j,2),N=y[0],_=y[1],S=Object(Q.a)({onSwipedLeft:function(){console.log("left"),P({code:"ArrowLeft"},t,a,N,_)},onSwipedRight:function(){console.log("right"),P({code:"ArrowRight"},t,a,N,_)},onSwipedUp:function(){console.log("up"),P({code:"ArrowUp"},t,a,N,_)},onSwipedDown:function(){console.log("down"),P({code:"ArrowDown"},t,a,N,_)},trackMouse:!0});return r.a.createElement(n.Fragment,null,r.a.createElement($,{width:window.innerWidth+"px",height:window.innerHeight+"px"}),r.a.createElement(te,S,r.a.createElement(ne,{className:"sideHolder"}),r.a.createElement(ae,{id:"mainHolder",style:{height:u+"px",backgroundColor:t.BG_COLOR}},r.a.createElement(q,{blockWidth:E,data:N}),r.a.createElement(Y,{gridHeight:v+"px"}),r.a.createElement(x,{width:u+"px"})),r.a.createElement(ne,{className:"sideHolder"})))};function oe(){var e=Object(f.a)(["\n    width: 100%;\n    display: flex;\n    margin: 10px 0px;\n"]);return oe=function(){return e},e}var ie=p.a.div(oe()),ce=function(){var e=Object(n.useContext)(s),t=e.state;e.dispatch;return r.a.createElement(ie,{style:{height:t.HEADER_HEIGHT}},r.a.createElement("div",{style:{flex:"1 1 auto"}}),r.a.createElement("div",{style:{flex:"2 1 0",display:"flex",minWidth:"400px",maxWidth:"500px"}},r.a.createElement("div",{style:{flex:"1 1 auto",textAlign:"left",display:"flex",flexDirection:"column",justifyContent:"center",height:t.HEADER_HEIGHT,maxWidth:"50%"}},r.a.createElement("div",{style:{flex:"2 1 auto",textAlign:"left",fontSize:"3rem",fontWeight:"bold"}},t.GAME_NAME),r.a.createElement("div",{style:{flex:"1 1 auto",textAlign:"left",fontSize:"0.8rem"}},t.GAME_DESCRIPTION)),r.a.createElement("div",{style:{flex:"1 1 auto",color:t.COLOR_SCHEME[128]}},r.a.createElement("h1",null,t.score))),r.a.createElement("div",{style:{flex:"1 1 auto"}}))},le=5,se="rgba(136, 129, 107, 1)",ue="rgba(210, 207, 207, 0.8)",de="2048+",fe="Join those numbers and get as big as you can, 2048 is not the end!",pe="15vh",Oe={2:"#f7f3e3",4:"#fff4cc",8:"#f9ca86",16:"#f7ae47",32:"#f29c71",64:"#d3481d",128:"#fff09b",256:"#ffe85c",512:"#ffd83f",1024:"#ffd017",2048:"#ffad16",super:"#0094c8"};var ve=function(){var e=d.a.getJSON("score");d.a.getJSON("BlocksPerLine")||d.a.set("BlocksPerLine",le,{path:""});var t={isGameOver:!1,score:e||0,gameRestart:!1,isLevelUpdate:!1,BLOCKS_IN_ONE_LINE:d.a.getJSON("BlocksPerLine")?d.a.getJSON("BlocksPerLine"):le,BG_COLOR:se,BG_BLOCK_COLOR:ue,GAME_NAME:de,GAME_DESCRIPTION:fe,HEADER_HEIGHT:pe,COLOR_SCHEME:Oe},a=Object(n.useReducer)(function(e,t){switch(t.type){case"gameOver":return Object(l.a)({},e,{isGameOver:t.isGameOver});case"updateScore":return Object(l.a)({},e,{score:t.score});case"restart":return Object(l.a)({},e,{gameRestart:t.gameRestart});case"setGameLevel":return Object(l.a)({},e,{BLOCKS_IN_ONE_LINE:t.gameLevel});case"isLevelUpdate":return Object(l.a)({},e,{isLevelUpdate:t.isLevelUpdate});default:return}},t),o=Object(c.a)(a,2),i=o[0],u=o[1];return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"App-header"},r.a.createElement(s.Provider,{value:{state:i,dispatch:u}},r.a.createElement(ce,null),r.a.createElement(re,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(291);i.a.render(r.a.createElement(ve,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[106,1,2]]]);
//# sourceMappingURL=main.1c4cbedc.chunk.js.map