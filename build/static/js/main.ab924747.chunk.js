(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{119:function(e,t,a){e.exports=a(316)},124:function(e,t,a){},125:function(e,t,a){},316:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(17),i=a.n(o),c=(a(124),a(3)),l=a(46),s=(a(125),Object(n.createContext)({})),f=a(4),u=a.n(f),d=a(14),p=a(15),m=a(114),b=a.n(m),v=a(60),h=a.n(v),O=a(30),g=a.n(O),E=a(31),x=a.n(E),w=a(113),y=a.n(w),j=a(111),C=a.n(j),S=a(112),L=a.n(S);function A(){var e=Object(d.a)(["\n    margin-top: 50px;\n    height: 50px;\n    display: flex;\n    justify-content: space-between;\n"]);return A=function(){return e},e}var _=p.a.div(A()),R=function(e){var t=Object(n.useState)("400px"),a=Object(c.a)(t,2),o=a[0],i=a[1];Object(n.useEffect)(function(){i(e.width)},[e.width]);var l=Object(n.useContext)(s),f=(l.state,l.dispatch),d=Object(n.useState)(!1),p=Object(c.a)(d,2),m=p[0],v=p[1];return r.a.createElement(_,{style:{width:o}},r.a.createElement(h.a,{style:{backgroundColor:"#f50057",boxShadow:"0px 1px 5px 0px rgba(0,0,0,0.2), 0px 2px 2px 0px rgba(0,0,0,0.14), 0px 3px 1px -2px rgba(0,0,0,0.12)",borderRadius:"4px"}},r.a.createElement(g.a,{button:!0,onClick:function(){v(!m)}},r.a.createElement(x.a,{inset:!0,primary:r.a.createElement("span",{style:{color:"#fff",fontWeight:"500",fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontSize:"0.875rem"}},"GAME LEVEL"),style:{color:"#fff",paddingLeft:"10px",marginTop:"-10px"}}),m?r.a.createElement(C.a,null):r.a.createElement(L.a,null)),r.a.createElement(y.a,{in:m,timeout:"auto",unmountOnExit:!0},r.a.createElement(h.a,{component:"div",disablePadding:!0,style:{backgroundColor:"#282c34"}},r.a.createElement(g.a,{button:!0},r.a.createElement(x.a,{inset:!0,primary:r.a.createElement("span",{style:{color:"#fff"}},"4 x 4"),style:{paddingLeft:"10px",textAlign:"center",borderBottom:"1px solid #fff"}})),r.a.createElement(g.a,{button:!0},r.a.createElement(x.a,{inset:!0,primary:r.a.createElement("span",{style:{color:"#fff"}},"5 x 5"),style:{paddingLeft:"10px",textAlign:"center",borderBottom:"1px solid #fff"}})),r.a.createElement(g.a,{button:!0},r.a.createElement(x.a,{inset:!0,primary:r.a.createElement("span",{style:{color:"#fff"}},"10 x 10"),style:{paddingLeft:"10px",textAlign:"center",borderBottom:"1px solid #fff"}}))))),r.a.createElement(b.a,{variant:"contained",color:"secondary",size:"medium",onClick:function(){f({type:"restart",gameRestart:!0}),u.a.set("score",0,{path:"/"})}},"Restart"))},k=function(e){var t=Object(n.useContext)(s),a=t.state,o=(t.dispatch,Object(n.useState)(0)),i=Object(c.a)(o,2),l=i[0],f=i[1];Object(n.useEffect)(function(){f(e.width)},[e.width]);var u=Object(n.useState)(e.position),d=Object(c.a)(u,2),p=d[0],m=d[1];Object(n.useEffect)(function(){m(e.position)},[e.position]);var b=Object(n.useState)(a.COLOR_SCHEME[2]),v=Object(c.a)(b,2),h=v[0],O=v[1];return Object(n.useEffect)(function(){a.COLOR_SCHEME[e.num]&&O(a.COLOR_SCHEME[e.num])},[e.num]),r.a.createElement("div",{style:{width:l+"px",height:l+"px",position:"absolute",left:p[0]*l+"px",top:p[1]*l+"px",lineHeight:l-20+"px",textAlign:"center",color:e.num>256?"#f2f2f2":"#000",fontSize:e.num>64?"2rem":"2.5rem",fontWeight:"bold",backgroundColor:h,boxSizing:"border-box",border:"10px solid "+a.BG_COLOR}},e.num)},N=function(e){var t=Object(n.useState)(e.data),a=Object(c.a)(t,2),o=a[0],i=a[1];Object(n.useEffect)(function(){i(e.data)},[e.data]);var l=Object(n.useState)(e.blockWidth),s=Object(c.a)(l,2),f=s[0],u=s[1];return Object(n.useEffect)(function(){u(e.blockWidth)},[e.blockWidth]),r.a.createElement(n.Fragment,null,o.map(function(e,t){return r.a.createElement(k,{num:e.num,key:t,position:e.position,width:f})}))},H=a(11),B=a(2),G=a.n(B),I=u.a.get("BlocksPerLine"),W=function(e){for(var t=[],a=[],n=0;n<I;n+=1)a.push(0);for(var r=0;r<I;r+=1)t.push([].concat(a));return e?(e.map(function(e){t[e.position[0]][e.position[1]]=e.num}),t):t};W.propTypes={data:G.a.arrayOf(G.a.shape({position:G.a.arrayOf(G.a.number),num:G.a.number}))};var M=function(e){for(var t=[],a=0;a<I;a+=1)for(var n=0;n<I;n+=1)e[a][n]&&t.push({position:[a,n],num:e[a][n]});return t};M.propTypes={data:G.a.arrayOf(G.a.number)};var z=a(32),P=a.n(z),T=u.a.get("BlocksPerLine"),D=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(a)return t;var r=W(t);if("ArrowDown"===e){console.log("ArrowDown");for(var o=Object(H.a)(r),i=T-1;i>=0;i-=1){for(var c=[],l=T-1;l>=0;l-=1)0!==o[i][l]&&(c.push(o[i][l]),o[i][l]=0);for(var s=0;s<c.length-1;s+=1)0===c[s]&&(c[s]=c[s+1],c[s+1]=0),c[s]===c[s+1]&&(c[s]=c[s]+c[s+1],c[s+1]=0,n+=c[s]);c.length=T;for(var f=0;f<c.length;f+=1)c[f]||(c[f]=0);o[i]=c.reverse()}return[M(o),n]}if("ArrowUp"===e){console.log("ArrowUp");for(var u=Object(H.a)(r),d=T-1;d>=0;d-=1){for(var p=[],m=T-1;m>=0;m-=1)0!==u[d][m]&&(p.push(u[d][m]),u[d][m]=0);for(var b=p.length-1;b>0;b-=1)0===p[b]&&(p[b]=p[b-1],p[b-1]=0),p[b]===p[b-1]&&(p[b]=p[b]+p[b-1],p[b-1]=0,n+=p[b]);for(var v=p.length-1;v>0;v-=1)p[v]||(p[v]=0);u[d]=p.reverse()}return[M(u),n]}if("ArrowLeft"===e){console.log("ArrowLeft");for(var h=P.a.apply(void 0,Object(H.a)(r)),O=T-1;O>=0;O-=1){for(var g=[],E=0;E<=T-1;E+=1)0!==h[O][E]&&(g.push(h[O][E]),h[O][E]=0);for(var x=0;x<g.length-1;x+=1)0===g[x]&&(g[x]=g[x+1],g[x+1]=0),g[x]===g[x+1]&&(g[x]=g[x]+g[x+1],g[x+1]=0,n+=g[x]);for(var w=T-1;w>0;w-=1)g[w]||(g[w]=0);h[O]=g}return[M(P.a.apply(void 0,Object(H.a)(h))),n]}if("ArrowRight"===e){console.log("ArrowRight");for(var y=P.a.apply(void 0,Object(H.a)(r)),j=T-1;j>=0;j-=1){for(var C=[],S=T-1;S>=0;S-=1)0!==y[j][S]&&(C.push(y[j][S]),y[j][S]=0);for(var L=0;L<C.length-1;L+=1)0===C[L]&&(C[L]=C[L+1],C[L+1]=0),C[L]===C[L+1]&&(C[L]=C[L]+C[L+1],C[L+1]=0,n+=C[L]);for(var A=T-1;A>0;A-=1)C[A]||(C[A]=0);y[j]=C.reverse()}return[M(P.a.apply(void 0,Object(H.a)(y))),n]}},J=a(45),K=a.n(J),F=a(115),U=a.n(F),q=u.a.get("BlocksPerLine"),V=function(e){var t=W(e),a=Object(H.a)(t),n=Q(a);return!!n&&M(n)},$=function(e){var t=W(e),a=Object(H.a)(t),n=Q(a,1);return!!n&&M(n)},Q=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,a=[],n=0,r=Object(H.a)(e),o=0;o<q;o+=1)for(var i=0;i<q;i+=1)r||(r=0);for(var l=0;l<r.length;l+=1)for(var s=0;s<r[l].length;s+=1)r[l][s]>n&&(n=r[l][s]),r[l][s]||a.push([l,s]);if(0===a.length)return!1;if(2===t){var f=X(n),u=Object(c.a)(f,2),d=u[0],p=u[1],m=Y(a),b=Object(c.a)(m,2),v=b[0],h=b[1];return r[v[0]][v[1]]=d,r[h[0]][h[1]]=p,r}var O=X(n,1),g=Y(a,1);return r[g[0]][g[1]]=O,r};V.defaultProps={data:[]},V.propTypes={data:G.a.arrayOf(G.a.shape({position:G.a.arrayOf(G.a.number),num:G.a.number}))};var X=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,a=2;e>2&&(a=e);var n=[2,4,8,16,32].filter(function(e){return e<=a}),r=K()(n),o=K()(n);return 2===t?[r,o]:r};X.propTypes={topFloor:G.a.number.isRequired};var Y=function(e){return 2===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:2)?U()(e,2):K()(e)};Y.propTypes={potentialPosition:G.a.arrayOf(G.a.arrayOf(G.a.number)).isRequired};var Z=a(116),ee=a.n(Z),te=a(117),ae=a.n(te),ne=function(e){var t=Object(n.useContext)(s),a=t.state,o=t.dispatch;u.a.getJSON("data")||u.a.set("data",[],{path:""});var i=u.a.getJSON("data")&&0===u.a.getJSON("data").length?V([]):u.a.getJSON("data"),l=Object(n.useState)(i),f=Object(c.a)(l,2),d=f[0],p=f[1];function m(e){if(console.log(e.code),"ArrowDown"===e.code||"ArrowUp"===e.code||"ArrowLeft"===e.code||"ArrowRight"===e.code){var t=D(e.code,d,a.isGameOver),n=Object(c.a)(t,2),r=n[0],i=n[1];o({type:"updateScore",score:a.score+i}),u.a.set("score",a.score+i,{path:""});var l=!1;if(ee()(r,d,ae.a).length||(l=!0),l)Math.pow(a.BLOCKS_IN_ONE_LINE,2)===r.length&&(o({type:"gameOver",isGameOver:!0}),u.a.set("data",[],{path:""}));else(r=$(r))?(p(r),u.a.set("data",r,{path:""})):(o({type:"gameOver",isGameOver:!0}),u.a.set("data",r,{path:""}))}}return a.gameRestart&&(u.a.set("data",[],{path:"/"}),window.location.reload(!1)),Object(n.useEffect)(function(){return window.addEventListener("keydown",m),function(){window.removeEventListener("keydown",m)}}),r.a.createElement("div",{style:{position:"absolute"}},r.a.createElement(N,{data:d,blockWidth:e.blockWidth}))};ne.defaultProps={blockWidth:120};var re=ne,oe=function(e){for(var t=Object(n.useContext)(s),a=t.state,o=(t.dispatch,[]),i=0;i<Math.pow(a.BLOCKS_IN_ONE_LINE,2);i++)o.push(i);var l=Object(n.useState)(e.gridHeight),f=Object(c.a)(l,2),u=f[0],d=f[1];return Object(n.useEffect)(function(){d(e.gridHeight)},[e.gridHeight]),r.a.createElement(n.Fragment,null,o.map(function(e){return r.a.createElement("div",{key:e,id:"grid_"+e,style:{height:u,width:u,flexGrow:"1",flexShrink:"1",flexBasis:u,backgroundColor:a.BG_BLOCK_COLOR,border:"10px solid "+a.BG_COLOR,boxSizing:"border-box"}})}))},ie=function(e){var t=Object(n.useContext)(s),a=t.state;t.dispatch;return r.a.createElement("div",{style:{width:e.width,height:e.height,fontSize:"4rem",backgroundColor:"rgba(16,17,20,0.8)",textAlign:"center",lineHeight:e.height,position:"absolute",display:a.isGameOver?"block":"none",zIndex:"1000"}},"GAME OVER")};function ce(){var e=Object(d.a)(["\n    flex-grow: 1;\n    display: flex;\n"]);return ce=function(){return e},e}function le(){var e=Object(d.a)(["\n    flex-grow: 2;\n    flex-shrink: 1;\n    flex-basis: 0;\n    min-width: 400px;\n    max-width: 600px;\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    padding: 10px;\n    box-sizing: content-box;\n    position: relative;\n"]);return le=function(){return e},e}function se(){var e=Object(d.a)(["\n    width: 100%;\n    display: flex;\n"]);return se=function(){return e},e}var fe=p.a.div(se()),ue=p.a.div(le()),de=p.a.div(ce()),pe=function(){var e=Object(n.useContext)(s),t=e.state,a=(e.dispatch,400),o=Object(n.useState)("0"),i=Object(c.a)(o,2),l=i[0],f=i[1],u=Object(n.useState)("0"),d=Object(c.a)(u,2),p=d[0],m=d[1];function b(){var e=window.getComputedStyle(document.getElementById("mainHolder")).width,n=Number(e.split("px")[0]),r=(e=n<a?a:n)/t.BLOCKS_IN_ONE_LINE;m(r),f(e)}Object(n.useEffect)(function(){return b(),window.addEventListener("resize",b),function(){window.removeEventListener("resize",b)}});var v=Object(n.useState)(Number(p)),h=Object(c.a)(v,2),O=h[0],g=h[1];return Object(n.useEffect)(function(){g(Number(p))},[p]),r.a.createElement(n.Fragment,null,r.a.createElement(ie,{width:window.innerWidth+"px",height:window.innerHeight+"px"}),r.a.createElement(fe,null,r.a.createElement(de,{className:"sideHolder"}),r.a.createElement(ue,{id:"mainHolder",style:{height:l+"px",backgroundColor:t.BG_COLOR}},r.a.createElement(re,{blockWidth:O}),r.a.createElement(oe,{gridHeight:p+"px"})),r.a.createElement(de,{className:"sideHolder"})),r.a.createElement(R,{width:l+"px"}))};function me(){var e=Object(d.a)(["\n    width: 100%;\n    display: flex;\n    margin: 10px 0px;\n"]);return me=function(){return e},e}var be=p.a.div(me()),ve=function(){var e=Object(n.useContext)(s),t=e.state;e.dispatch;return r.a.createElement(be,{style:{height:t.HEADER_HEIGHT}},r.a.createElement("div",{style:{flex:"1 1 auto"}}),r.a.createElement("div",{style:{flex:"2 1 0",display:"flex",minWidth:"400px",maxWidth:"600px"}},r.a.createElement("div",{style:{flex:"1 1 auto",textAlign:"left",display:"flex",flexDirection:"column",justifyContent:"center",height:t.HEADER_HEIGHT,maxWidth:"50%"}},r.a.createElement("div",{style:{flex:"2 1 auto",textAlign:"left",fontSize:"3rem",fontWeight:"bold"}},t.GAME_NAME),r.a.createElement("div",{style:{flex:"1 1 auto",textAlign:"left",fontSize:"0.8rem"}},t.GAME_DESCRIPTION)),r.a.createElement("div",{style:{flex:"1 1 auto",color:t.COLOR_SCHEME[128]}},r.a.createElement("h1",null,t.score))),r.a.createElement("div",{style:{flex:"1 1 auto"}}))},he=5,Oe="rgba(136, 129, 107, 1)",ge="rgba(210, 207, 207, 0.8)",Ee="2048",xe="Join those numbers and get as big as you can, 2048 is not the end!",we="15vh",ye={2:"#f7f3e3",4:"#fff4cc",8:"#f9ca86",16:"#f7ae47",32:"#f29c71",64:"#d3481d",128:"#fff09b",256:"#ffe85c",512:"#ffd83f",1024:"#ffd017",2048:"#ffad16",super:"#0094c8"};var je=function(){var e=u.a.getJSON("score");u.a.set("BlocksPerLine",he,{path:"/"});var t={isGameOver:!1,score:e||0,gameRestart:!1,BLOCKS_IN_ONE_LINE:he,BG_COLOR:Oe,BG_BLOCK_COLOR:ge,GAME_NAME:Ee,GAME_DESCRIPTION:xe,HEADER_HEIGHT:we,COLOR_SCHEME:ye},a=Object(n.useReducer)(function(e,t){switch(t.type){case"gameOver":return Object(l.a)({},e,{isGameOver:t.isGameOver});case"updateScore":return Object(l.a)({},e,{score:t.score});case"restart":return Object(l.a)({},e,{gameRestart:t.gameRestart});default:return}},t),o=Object(c.a)(a,2),i=o[0],f=o[1];return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"App-header"},r.a.createElement(s.Provider,{value:{state:i,dispatch:f}},r.a.createElement(ve,null),r.a.createElement(pe,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(315);i.a.render(r.a.createElement(je,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[119,1,2]]]);
//# sourceMappingURL=main.ab924747.chunk.js.map