(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{118:function(e,t,n){e.exports=n(315)},123:function(e,t,n){},124:function(e,t,n){},315:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(17),i=n.n(o),c=(n(123),n(3)),l=(n(124),Object(a.createContext)({})),s=n(4),f=n.n(s),u=n(14),d=n(15),p=n(113),m=n.n(p),b=n(59),v=n.n(b),h=n(30),O=n.n(h),x=n(31),g=n.n(x),E=n(112),j=n.n(E),w=n(110),y=n.n(w),C=n(111),S=n.n(C);function L(){var e=Object(u.a)(["\n    margin-top: 50px;\n    height: 50px;\n    display: flex;\n    justify-content: space-between;\n"]);return L=function(){return e},e}var k=d.a.div(L()),_=function(e){var t=Object(a.useState)("400px"),n=Object(c.a)(t,2),o=n[0],i=n[1];Object(a.useEffect)(function(){i(e.width)},[e.width]);var s=Object(a.useContext)(l),u=(s.gameRestart,s.setGameRestart),d=Object(a.useState)(!1),p=Object(c.a)(d,2),b=p[0],h=p[1];return r.a.createElement(k,{style:{width:o}},r.a.createElement(v.a,{style:{backgroundColor:"#f50057",boxShadow:"0px 1px 5px 0px rgba(0,0,0,0.2), 0px 2px 2px 0px rgba(0,0,0,0.14), 0px 3px 1px -2px rgba(0,0,0,0.12)",borderRadius:"4px"}},r.a.createElement(O.a,{button:!0,onClick:function(){h(!b)}},r.a.createElement(g.a,{inset:!0,primary:r.a.createElement("span",{style:{color:"#fff",fontWeight:"500",fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontSize:"0.875rem"}},"GAME LEVEL"),style:{color:"#fff",paddingLeft:"10px",marginTop:"-10px"}}),b?r.a.createElement(y.a,null):r.a.createElement(S.a,null)),r.a.createElement(j.a,{in:b,timeout:"auto",unmountOnExit:!0},r.a.createElement(v.a,{component:"div",disablePadding:!0,style:{backgroundColor:"#282c34"}},r.a.createElement(O.a,{button:!0},r.a.createElement(g.a,{inset:!0,primary:r.a.createElement("span",{style:{color:"#fff"}},"4 x 4"),style:{paddingLeft:"10px",textAlign:"center",borderBottom:"1px solid #fff"}})),r.a.createElement(O.a,{button:!0},r.a.createElement(g.a,{inset:!0,primary:r.a.createElement("span",{style:{color:"#fff"}},"5 x 5"),style:{paddingLeft:"10px",textAlign:"center",borderBottom:"1px solid #fff"}})),r.a.createElement(O.a,{button:!0},r.a.createElement(g.a,{inset:!0,primary:r.a.createElement("span",{style:{color:"#fff"}},"10 x 10"),style:{paddingLeft:"10px",textAlign:"center",borderBottom:"1px solid #fff"}}))))),r.a.createElement(m.a,{variant:"contained",color:"secondary",size:"medium",onClick:function(){u(!0),f.a.set("score",0,{path:"/"})}},"Restart"))},A=function(e){var t=Object(a.useContext)(l),n=t.COLOR_SCHEME,o=t.BG_COLOR,i=Object(a.useState)(0),s=Object(c.a)(i,2),f=s[0],u=s[1];Object(a.useEffect)(function(){u(e.width)},[e.width]);var d=Object(a.useState)(e.position),p=Object(c.a)(d,2),m=p[0],b=p[1];Object(a.useEffect)(function(){b(e.position)},[e.position]);var v=Object(a.useState)(n[2]),h=Object(c.a)(v,2),O=h[0],x=h[1];return Object(a.useEffect)(function(){n[e.num]&&x(n[e.num])},[e.num]),r.a.createElement("div",{style:{width:f+"px",height:f+"px",position:"absolute",left:m[0]*f+"px",top:m[1]*f+"px",lineHeight:f-20+"px",textAlign:"center",color:e.num>256?"#f2f2f2":"#000",fontSize:e.num>64?"2rem":"2.5rem",fontWeight:"bold",backgroundColor:O,boxSizing:"border-box",border:"10px solid "+o}},e.num)},R=function(e){var t=Object(a.useState)(e.data),n=Object(c.a)(t,2),o=n[0],i=n[1];Object(a.useEffect)(function(){i(e.data)},[e.data]);var l=Object(a.useState)(e.blockWidth),s=Object(c.a)(l,2),f=s[0],u=s[1];return Object(a.useEffect)(function(){u(e.blockWidth)},[e.blockWidth]),r.a.createElement(a.Fragment,null,o.map(function(e,t){return r.a.createElement(A,{num:e.num,key:t,position:e.position,width:f})}))},N=n(11),B=n(2),G=n.n(B),H=f.a.get("BlocksPerLine"),I=function(e){for(var t=[],n=[],a=0;a<H;a+=1)n.push(0);for(var r=0;r<H;r+=1)t.push([].concat(n));return e?(e.map(function(e){t[e.position[0]][e.position[1]]=e.num}),t):t};I.propTypes={data:G.a.arrayOf(G.a.shape({position:G.a.arrayOf(G.a.number),num:G.a.number}))};var W=function(e){for(var t=[],n=0;n<H;n+=1)for(var a=0;a<H;a+=1)e[n][a]&&t.push({position:[n,a],num:e[n][a]});return t};W.propTypes={data:G.a.arrayOf(G.a.number)};var M=n(32),z=n.n(M),P=f.a.get("BlocksPerLine"),T=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(n)return t;var r=I(t);if("ArrowDown"===e){console.log("ArrowDown");for(var o=Object(N.a)(r),i=P-1;i>=0;i-=1){for(var c=[],l=P-1;l>=0;l-=1)0!==o[i][l]&&(c.push(o[i][l]),o[i][l]=0);for(var s=0;s<c.length-1;s+=1)0===c[s]&&(c[s]=c[s+1],c[s+1]=0),c[s]===c[s+1]&&(c[s]=c[s]+c[s+1],c[s+1]=0,a+=c[s]);c.length=P;for(var f=0;f<c.length;f+=1)c[f]||(c[f]=0);o[i]=c.reverse()}return[W(o),a]}if("ArrowUp"===e){console.log("ArrowUp");for(var u=Object(N.a)(r),d=P-1;d>=0;d-=1){for(var p=[],m=P-1;m>=0;m-=1)0!==u[d][m]&&(p.push(u[d][m]),u[d][m]=0);for(var b=p.length-1;b>0;b-=1)0===p[b]&&(p[b]=p[b-1],p[b-1]=0),p[b]===p[b-1]&&(p[b]=p[b]+p[b-1],p[b-1]=0,a+=p[b]);for(var v=p.length-1;v>0;v-=1)p[v]||(p[v]=0);u[d]=p.reverse()}return[W(u),a]}if("ArrowLeft"===e){console.log("ArrowLeft");for(var h=z.a.apply(void 0,Object(N.a)(r)),O=P-1;O>=0;O-=1){for(var x=[],g=0;g<=P-1;g+=1)0!==h[O][g]&&(x.push(h[O][g]),h[O][g]=0);for(var E=0;E<x.length-1;E+=1)0===x[E]&&(x[E]=x[E+1],x[E+1]=0),x[E]===x[E+1]&&(x[E]=x[E]+x[E+1],x[E+1]=0,a+=x[E]);for(var j=P-1;j>0;j-=1)x[j]||(x[j]=0);h[O]=x}return[W(z.a.apply(void 0,Object(N.a)(h))),a]}if("ArrowRight"===e){console.log("ArrowRight");for(var w=z.a.apply(void 0,Object(N.a)(r)),y=P-1;y>=0;y-=1){for(var C=[],S=P-1;S>=0;S-=1)0!==w[y][S]&&(C.push(w[y][S]),w[y][S]=0);for(var L=0;L<C.length-1;L+=1)0===C[L]&&(C[L]=C[L+1],C[L+1]=0),C[L]===C[L+1]&&(C[L]=C[L]+C[L+1],C[L+1]=0,a+=C[L]);for(var k=P-1;k>0;k-=1)C[k]||(C[k]=0);w[y]=C.reverse()}return[W(z.a.apply(void 0,Object(N.a)(w))),a]}},D=n(45),J=n.n(D),K=n(114),F=n.n(K),q=f.a.get("BlocksPerLine"),U=function(e){var t=I(e),n=Object(N.a)(t),a=$(n);return!!a&&W(a)},V=function(e){var t=I(e),n=Object(N.a)(t),a=$(n,1);return!!a&&W(a)},$=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=[],a=0,r=Object(N.a)(e),o=0;o<q;o+=1)for(var i=0;i<q;i+=1)r||(r=0);for(var l=0;l<r.length;l+=1)for(var s=0;s<r[l].length;s+=1)r[l][s]>a&&(a=r[l][s]),r[l][s]||n.push([l,s]);if(0===n.length)return!1;if(2===t){var f=Q(a),u=Object(c.a)(f,2),d=u[0],p=u[1],m=X(n),b=Object(c.a)(m,2),v=b[0],h=b[1];return r[v[0]][v[1]]=d,r[h[0]][h[1]]=p,r}var O=Q(a,1),x=X(n,1);return r[x[0]][x[1]]=O,r};U.defaultProps={data:[]},U.propTypes={data:G.a.arrayOf(G.a.shape({position:G.a.arrayOf(G.a.number),num:G.a.number}))};var Q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=2;e>2&&(n=e);var a=[2,4,8,16,32].filter(function(e){return e<=n}),r=J()(a),o=J()(a);return 2===t?[r,o]:r};Q.propTypes={topFloor:G.a.number.isRequired};var X=function(e){return 2===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:2)?F()(e,2):J()(e)};X.propTypes={potentialPosition:G.a.arrayOf(G.a.arrayOf(G.a.number)).isRequired};var Y=n(115),Z=n.n(Y),ee=n(116),te=n.n(ee),ne=function(e){var t=Object(a.useContext)(l).BLOCKS_IN_ONE_LINE;f.a.getJSON("data")||f.a.set("data",[],{path:""});var n=0===f.a.getJSON("data").length?U([]):f.a.getJSON("data"),o=Object(a.useState)(n),i=Object(c.a)(o,2),s=i[0],u=i[1],d=Object(a.useContext)(l),p=d.context,m=d.setContext,b=Object(a.useContext)(l),v=b.gameRestart;b.setGameRestart;function h(e){var n=T(e.code,s,p.isGameOver),a=Object(c.a)(n,2),r=a[0],o=a[1];m({score:p.score+o}),f.a.set("score",p.score+o,{path:""});var i=!1;(Z()(r,s,te.a).length||(i=!0),i)?Math.pow(t,2)===r.length&&(m({isGameOver:!0}),f.a.set("data",[],{path:""})):(r=V(r))?(u(r),f.a.set("data",r,{path:""})):(m({isGameOver:!0}),f.a.set("data",r,{path:""}))}return v&&(f.a.set("data",[],{path:"/"}),window.location.reload(!1)),Object(a.useEffect)(function(){return window.addEventListener("keydown",h),function(){window.removeEventListener("keydown",h)}}),r.a.createElement("div",{style:{position:"absolute"}},r.a.createElement(R,{data:s,blockWidth:e.blockWidth}))};ne.defaultProps={blockWidth:120};var ae=ne,re=function(e){for(var t=Object(a.useContext)(l),n=t.BLOCKS_IN_ONE_LINE,o=t.BG_BLOCK_COLOR,i=t.BG_COLOR,s=[],f=0;f<Math.pow(n,2);f++)s.push(f);var u=Object(a.useState)(e.gridHeight),d=Object(c.a)(u,2),p=d[0],m=d[1];return Object(a.useEffect)(function(){m(e.gridHeight)},[e.gridHeight]),r.a.createElement(a.Fragment,null,s.map(function(e){return r.a.createElement("div",{key:e,id:"grid_"+e,style:{height:p,width:p,flexGrow:"1",flexShrink:"1",flexBasis:p,backgroundColor:o,border:"10px solid "+i,boxSizing:"border-box"}})}))},oe=function(e){var t=Object(a.useContext)(l).context;return r.a.createElement("div",{style:{width:e.width,height:e.height,fontSize:"4rem",backgroundColor:"rgba(16,17,20,0.8)",textAlign:"center",lineHeight:e.height,position:"absolute",display:t.isGameOver?"block":"none",zIndex:"1000"}},"GAME OVER")};function ie(){var e=Object(u.a)(["\n    flex-grow: 1;\n    display: flex;\n"]);return ie=function(){return e},e}function ce(){var e=Object(u.a)(["\n    flex-grow: 2;\n    flex-shrink: 1;\n    flex-basis: 0;\n    min-width: 400px;\n    max-width: 600px;\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    padding: 10px;\n    box-sizing: content-box;\n    position: relative;\n"]);return ce=function(){return e},e}function le(){var e=Object(u.a)(["\n    width: 100%;\n    display: flex;\n"]);return le=function(){return e},e}var se=d.a.div(le()),fe=d.a.div(ce()),ue=d.a.div(ie()),de=function(){var e=Object(a.useContext)(l),t=e.BLOCKS_IN_ONE_LINE,n=e.BG_COLOR,o=400,i=Object(a.useState)("0"),s=Object(c.a)(i,2),f=s[0],u=s[1],d=Object(a.useState)("0"),p=Object(c.a)(d,2),m=p[0],b=p[1];function v(){var e=window.getComputedStyle(document.getElementById("mainHolder")).width,n=Number(e.split("px")[0]);b((e=n<o?o:n)/t),u(e)}Object(a.useEffect)(function(){return v(),window.addEventListener("resize",v),function(){window.removeEventListener("resize",v)}});var h=Object(a.useState)(Number(m)),O=Object(c.a)(h,2),x=O[0],g=O[1];return Object(a.useEffect)(function(){g(Number(m))},[m]),r.a.createElement(a.Fragment,null,r.a.createElement(oe,{width:window.innerWidth+"px",height:window.innerHeight+"px"}),r.a.createElement(se,null,r.a.createElement(ue,{className:"sideHolder"}),r.a.createElement(fe,{id:"mainHolder",style:{height:f+"px",backgroundColor:n}},r.a.createElement(ae,{blockWidth:x}),r.a.createElement(re,{gridHeight:m+"px"})),r.a.createElement(ue,{className:"sideHolder"})),r.a.createElement(_,{width:f+"px"}))};function pe(){var e=Object(u.a)(["\n    width: 100%;\n    display: flex;\n    margin: 10px 0px;\n"]);return pe=function(){return e},e}var me=d.a.div(pe()),be=function(){var e=Object(a.useContext)(l),t=e.GAME_NAME,n=e.GAME_DESCRIPTION,o=e.HEADER_HEIGHT,i=e.COLOR_SCHEME,c=Object(a.useContext)(l),s=c.context;c.setContext;return r.a.createElement(me,{style:{height:o}},r.a.createElement("div",{style:{flex:"1 1 auto"}}),r.a.createElement("div",{style:{flex:"2 1 0",display:"flex",minWidth:"400px",maxWidth:"600px"}},r.a.createElement("div",{style:{flex:"1 1 auto",textAlign:"left",display:"flex",flexDirection:"column",justifyContent:"center",height:o,maxWidth:"50%"}},r.a.createElement("div",{style:{flex:"2 1 auto",textAlign:"left",fontSize:"3rem",fontWeight:"bold"}},t),r.a.createElement("div",{style:{flex:"1 1 auto",textAlign:"left",fontSize:"0.8rem"}},n)),r.a.createElement("div",{style:{flex:"1 1 auto",color:i[128]}},r.a.createElement("h1",null,s.score))),r.a.createElement("div",{style:{flex:"1 1 auto"}}))},ve=5,he="rgba(136, 129, 107, 1)",Oe="rgba(210, 207, 207, 0.8)",xe="2048",ge="Join those numbers and get as big as you can, 2048 is not the end!",Ee="15vh",je={2:"#f7f3e3",4:"#fff4cc",8:"#f9ca86",16:"#f7ae47",32:"#f29c71",64:"#d3481d",128:"#fff09b",256:"#ffe85c",512:"#ffd83f",1024:"#ffd017",2048:"#ffad16",super:"#0094c8"};var we=function(){var e=f.a.getJSON("score");f.a.set("BlocksPerLine",ve,{path:"/"});var t=Object(a.useState)({isGameOver:!1,score:e||0,gameRestart:!1}),n=Object(c.a)(t,2),o=n[0],i=n[1],s=Object(a.useState)(!1),u=Object(c.a)(s,2),d=u[0],p=u[1];return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"App-header"},r.a.createElement(l.Provider,{value:{context:o,setContext:i,gameRestart:d,setGameRestart:p,BLOCKS_IN_ONE_LINE:ve,BG_COLOR:he,BG_BLOCK_COLOR:Oe,GAME_NAME:xe,GAME_DESCRIPTION:ge,HEADER_HEIGHT:Ee,COLOR_SCHEME:je}},r.a.createElement(be,null),r.a.createElement(de,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(314);i.a.render(r.a.createElement(we,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[118,1,2]]]);
//# sourceMappingURL=main.a3b21aa6.chunk.js.map