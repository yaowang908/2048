(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{106:function(e,t,n){e.exports=n(292)},111:function(e,t,n){},112:function(e,t,n){},292:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(14),i=n.n(o),c=(n(111),n(4)),l=n(21),s=(n(112),Object(a.createContext)({})),u=n(2),d=n.n(u),f=n(9),p=n(10),v=n(56),O=n.n(v);function m(){var e=Object(f.a)(["\n    font-size: 1rem;\n    font-weight: bold;\n    padding: 10px;\n    border-bottom: 1px solid #f5f5f5;\n    cursor: pointer;\n"]);return m=function(){return e},e}function h(){var e=Object(f.a)(["\n    width: 135px;\n    top: 0;\n    padding: 0;\n    margin: 0;\n    margin-top: 0;\n    position: absolute;\n    list-style: none;\n    text-align: center;\n    z-index: 100;\n    display: none;\n    transition: all 0.5s ease-in-out;\n"]);return h=function(){return e},e}function g(){var e=Object(f.a)(["\n    margin-top: 50px;\n    height: 50px;\n    display: flex;\n    justify-content: space-between;\n    position: relative;\n"]);return g=function(){return e},e}var b=p.a.div(g()),E=p.a.ul(h()),w=p.a.li(m()),x=function(e){var t=Object(a.useState)("400px"),n=Object(c.a)(t,2),o=n[0],i=n[1];Object(a.useEffect)(function(){i(e.width)},[e.width]);var l=Object(a.useContext)(s),u=(l.state,l.dispatch),f=Object(a.useState)(!1),p=Object(c.a)(f,2);p[0],p[1];function v(e){return function(t){var n=document.getElementById("game-level-btn");n.firstChild.textContent="GAME LEVEL",n.firstChild.style.width="auto",document.getElementById("game-levels").style.cssText="display: none",u({type:"restart",gameRestart:!0}),u({type:"setGameLevel",gameLevel:e}),u({type:"isLevelUpdate",isLevelUpdate:!0})}}return r.a.createElement(b,{style:{width:o}},r.a.createElement(E,{id:"game-levels"},r.a.createElement(w,{onClick:v(4)},"4x4"),r.a.createElement(w,{onClick:v(5)},"5x5"),r.a.createElement(w,{onClick:v(10)},"10x10")),r.a.createElement(O.a,{variant:"contained",color:"secondary",size:"medium",id:"game-level-btn",onClick:function(){var e=document.getElementById("game-level-btn");e.firstChild.textContent="",e.firstChild.style.width="103px";var t=document.getElementById("game-levels");t.style.cssText="display: block",t.addEventListener("wheel",function(e){var n=t.style.top;t.style.cssText="top: ".concat(function(e,t){var n=Number(e.split("px")[0]);return t>0?n>=-48?n-48:n:t<0?n<=-48?n+48:n:void 0}(n,e.deltaY),"px; display: block")})}},"GAME LEVEL"),r.a.createElement(O.a,{variant:"contained",color:"secondary",size:"medium",onClick:function(){u({type:"restart",gameRestart:!0}),d.a.set("score",0,{path:"/"})}},"RESTART"))},j=function(e){var t=Object(a.useContext)(s),n=t.state,o=(t.dispatch,Object(a.useState)(0)),i=Object(c.a)(o,2),l=i[0],u=i[1];Object(a.useEffect)(function(){u(e.width)},[e.width]);var d=Object(a.useState)(e.position),f=Object(c.a)(d,2),p=f[0],v=f[1];Object(a.useEffect)(function(){v(e.position)},[e.position]);var O=Object(a.useState)(n.COLOR_SCHEME[2]),m=Object(c.a)(O,2),h=m[0],g=m[1];return Object(a.useEffect)(function(){n.COLOR_SCHEME[e.num]&&g(n.COLOR_SCHEME[e.num])},[e.num]),r.a.createElement("div",{style:{width:l+"px",height:l+"px",position:"absolute",left:p[0]*l+"px",top:p[1]*l+"px",lineHeight:l-20+"px",textAlign:"center",color:e.num>256?"#f2f2f2":"#000",fontSize:e.gameLevel<10?e.num>64?"2rem":"2.5rem":"0.8rem",fontWeight:"bold",backgroundColor:h,boxSizing:"border-box",border:"10px solid "+n.BG_COLOR}},e.num)},y=function(e){var t=Object(a.useContext)(s),n=t.state,o=(t.dispatch,Object(a.useState)(e.data)),i=Object(c.a)(o,2),l=i[0],u=i[1];Object(a.useEffect)(function(){u(e.data)},[e.data]);var d=Object(a.useState)(e.blockWidth),f=Object(c.a)(d,2),p=f[0],v=f[1];return Object(a.useEffect)(function(){v(e.blockWidth)},[e.blockWidth]),r.a.createElement(a.Fragment,null,l.map(function(e,t){return r.a.createElement(j,{num:e.num,key:t,position:e.position,width:p,gameLevel:n.BLOCKS_IN_ONE_LINE})}))},L=n(7),N=n(1),S=n.n(N),C=function(e,t){for(var n=[],a=[],r=0;r<t;r+=1)a.push(0);for(var o=0;o<t;o+=1)n.push([].concat(a));return e?(e.map(function(e){n[e.position[0]][e.position[1]]=e.num}),n):n};C.propTypes={data:S.a.arrayOf(S.a.shape({position:S.a.arrayOf(S.a.number),num:S.a.number}))};var _=function(e,t){for(var n=[],a=0;a<t;a+=1)for(var r=0;r<t;r+=1)e[a][r]&&n.push({position:[a,r],num:e[a][r]});return n};_.propTypes={data:S.a.arrayOf(S.a.number)};var I=n(44),A=n.n(I),k=n(101),B=n.n(k),R=function(e,t){var n=C(e,t),a=Object(L.a)(n),r=G(a,2,t);return _(r,t)},G=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2?arguments[2]:void 0,a=[],r=0,o=Object(L.a)(e),i=0;i<n;i+=1)for(var l=0;l<n;l+=1)o||(o=0);for(var s=0;s<o.length;s+=1)for(var u=0;u<o[s].length;u+=1)o[s][u]>r&&(r=o[s][u]),o[s][u]||a.push([s,u]);if(0===a.length)return!1;if(2===t){var d=H(r),f=Object(c.a)(d,2),p=f[0],v=f[1],O=M(a),m=Object(c.a)(O,2),h=m[0],g=m[1];return o[h[0]][h[1]]=p,o[g[0]][g[1]]=v,o}var b=H(r,1),E=M(a,1);return o[E[0]][E[1]]=b,o};R.defaultProps={data:[]},R.propTypes={data:S.a.arrayOf(S.a.shape({position:S.a.arrayOf(S.a.number),num:S.a.number}))};var H=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=2;e>2&&(n=e);var a=[2,4,8,16,32].filter(function(e){return e<=n}),r=A()(a),o=A()(a);return 2===t?[r,o]:r};H.propTypes={topFloor:S.a.number.isRequired};var M=function(e){return 2===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:2)?B()(e,2):A()(e)};M.propTypes={potentialPosition:S.a.arrayOf(S.a.arrayOf(S.a.number)).isRequired};var J=n(102),T=n.n(J),W=n(103),z=n.n(W),K=n(30),U=n.n(K),D=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4?arguments[4]:void 0;if(n)return t;var o=C(t,r);if("ArrowDown"===e){console.log("ArrowDown");for(var i=Object(L.a)(o),c=r-1;c>=0;c-=1){for(var l=[],s=r-1;s>=0;s-=1)0!==i[c][s]&&(l.push(i[c][s]),i[c][s]=0);for(var u=0;u<l.length-1;u+=1)0===l[u]&&(l[u]=l[u+1],l[u+1]=0),l[u]===l[u+1]&&(l[u]=l[u]+l[u+1],l[u+1]=0,a+=l[u]);l.length=r;for(var d=0;d<l.length;d+=1)l[d]||(l[d]=0);i[c]=l.reverse()}return[_(i,r),a]}if("ArrowUp"===e){console.log("ArrowUp");for(var f=Object(L.a)(o),p=r-1;p>=0;p-=1){for(var v=[],O=r-1;O>=0;O-=1)0!==f[p][O]&&(v.push(f[p][O]),f[p][O]=0);for(var m=v.length-1;m>0;m-=1)0===v[m]&&(v[m]=v[m-1],v[m-1]=0),v[m]===v[m-1]&&(v[m]=v[m]+v[m-1],v[m-1]=0,a+=v[m]);for(var h=v.length-1;h>0;h-=1)v[h]||(v[h]=0);f[p]=v.reverse()}return[_(f,r),a]}if("ArrowLeft"===e){console.log("ArrowLeft");for(var g=U.a.apply(void 0,Object(L.a)(o)),b=r-1;b>=0;b-=1){for(var E=[],w=0;w<=r-1;w+=1)0!==g[b][w]&&(E.push(g[b][w]),g[b][w]=0);for(var x=0;x<E.length-1;x+=1)0===E[x]&&(E[x]=E[x+1],E[x+1]=0),E[x]===E[x+1]&&(E[x]=E[x]+E[x+1],E[x+1]=0,a+=E[x]);for(var j=r-1;j>0;j-=1)E[j]||(E[j]=0);g[b]=E}return[_(U.a.apply(void 0,Object(L.a)(g)),r),a]}if("ArrowRight"===e){console.log("ArrowRight");for(var y=U.a.apply(void 0,Object(L.a)(o)),N=r-1;N>=0;N-=1){for(var S=[],I=r-1;I>=0;I-=1)0!==y[N][I]&&(S.push(y[N][I]),y[N][I]=0);for(var A=0;A<S.length-1;A+=1)0===S[A]&&(S[A]=S[A+1],S[A+1]=0),S[A]===S[A+1]&&(S[A]=S[A]+S[A+1],S[A+1]=0,a+=S[A]);for(var k=r-1;k>0;k-=1)S[k]||(S[k]=0);y[N]=S.reverse()}return[_(U.a.apply(void 0,Object(L.a)(y)),r),a]}},P=function(e,t,n,a,r){if(console.log(e),"ArrowDown"===e.code||"ArrowUp"===e.code||"ArrowLeft"===e.code||"ArrowRight"===e.code){var o=D(e.code,a,t.isGameOver,t.score,t.BLOCKS_IN_ONE_LINE),i=Object(c.a)(o,2),l=i[0],s=i[1];n({type:"updateScore",score:s}),d.a.set("score",t.score+s,{path:""});var u=!1;if(T()(l,a,z.a).length||(u=!0),u)Math.pow(t.BLOCKS_IN_ONE_LINE,2)===l.length&&(n({type:"gameOver",isGameOver:!0}),d.a.set("data",[],{path:""}));else(l=function(e,t){var n=C(e,t),a=Object(L.a)(n),r=G(a,1,t);return!!r&&_(r,t)}(l,t.BLOCKS_IN_ONE_LINE))?(r(l),d.a.set("data",l,{path:""})):(n({type:"gameOver",isGameOver:!0}),d.a.set("data",l,{path:""}))}},F=function(e){var t=Object(a.useContext)(s),n=t.state,o=t.dispatch;d.a.getJSON("data")||d.a.set("data",[],{path:""});var i=d.a.getJSON("data")&&0===d.a.getJSON("data").length?R([],n.BLOCKS_IN_ONE_LINE):d.a.getJSON("data"),l=Object(a.useState)(i),u=Object(c.a)(l,2),f=u[0],p=u[1];function v(e){return P(e,n,o,f,p)}return n.gameRestart&&(d.a.set("data",[],{path:"/"}),d.a.set("BlocksPerLine",n.BLOCKS_IN_ONE_LINE,{path:"/"}),window.location.reload(!1)),Object(a.useEffect)(function(){return n.isLevelUpdate&&(p(R([],n.BLOCKS_IN_ONE_LINE)),o({type:"isLevelUpdate",isLevelUpdate:!1})),window.addEventListener("keydown",v),function(){window.removeEventListener("keydown",v)}}),Object(a.useEffect)(function(){p(e.data)},[e.data]),r.a.createElement("div",{style:{position:"absolute"}},r.a.createElement(y,{data:f,blockWidth:e.blockWidth}))};F.defaultProps={blockWidth:120};var V=F,q=function(e){for(var t=Object(a.useContext)(s),n=t.state,o=(t.dispatch,[]),i=0;i<Math.pow(n.BLOCKS_IN_ONE_LINE,2);i++)o.push(i);var l=Object(a.useState)(e.gridHeight),u=Object(c.a)(l,2),d=u[0],f=u[1];return Object(a.useEffect)(function(){f(e.gridHeight)},[e.gridHeight]),r.a.createElement(a.Fragment,null,o.map(function(e){return r.a.createElement("div",{key:e,id:"grid_"+e,style:{height:d,width:d,flexGrow:"1",flexShrink:"1",flexBasis:d,backgroundColor:n.BG_BLOCK_COLOR,border:"10px solid "+n.BG_COLOR,boxSizing:"border-box"}})}))},Y=function(e){var t=Object(a.useContext)(s),n=t.state;t.dispatch;return r.a.createElement("div",{style:{width:e.width,height:e.height,fontSize:"4rem",backgroundColor:"rgba(16,17,20,0.8)",textAlign:"center",lineHeight:e.height,position:"absolute",display:n.isGameOver?"block":"none",zIndex:"1000"}},"GAME OVER")},$=n(104);function Q(){var e=Object(f.a)(["\n    flex: 1 1 auto;\n    display: flex;\n"]);return Q=function(){return e},e}function X(){var e=Object(f.a)(["\n    flex:2 1 0;\n    min-width: 400px;\n    max-width: 500px;\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    padding: 10px;\n    box-sizing: content-box;\n    position: relative;\n"]);return X=function(){return e},e}function Z(){var e=Object(f.a)(["\n    width: 100%;\n    display: flex;\n"]);return Z=function(){return e},e}var ee=p.a.div(Z()),te=p.a.div(X()),ne=p.a.div(Q()),ae=function(){var e=Object(a.useContext)(s),t=e.state,n=e.dispatch,o=400,i=Object(a.useState)("0"),l=Object(c.a)(i,2),u=l[0],f=l[1],p=Object(a.useState)("0"),v=Object(c.a)(p,2),O=v[0],m=v[1];function h(){var e=window.getComputedStyle(document.getElementById("mainHolder")).width,n=Number(e.split("px")[0]),a=(e=n<o?o:n)/t.BLOCKS_IN_ONE_LINE;m(a),f(e)}Object(a.useEffect)(function(){return h(),window.addEventListener("resize",h),function(){window.removeEventListener("resize",h)}});var g=Object(a.useState)(Number(O)),b=Object(c.a)(g,2),E=b[0],w=b[1];Object(a.useEffect)(function(){w(Number(O))},[O]),d.a.getJSON("data")||d.a.set("data",[],{path:""});var j=d.a.getJSON("data")&&0===d.a.getJSON("data").length?R([],t.BLOCKS_IN_ONE_LINE):d.a.getJSON("data"),y=Object(a.useState)(j),L=Object(c.a)(y,2),N=L[0],S=L[1],C=Object($.a)({onSwipedLeft:function(){console.log("left"),P({code:"ArrowLeft"},t,n,N,S)},onSwipedRight:function(){console.log("right"),P({code:"ArrowRight"},t,n,N,S)},onSwipedUp:function(){console.log("up"),P({code:"ArrowUp"},t,n,N,S)},onSwipedDown:function(){console.log("down"),P({code:"ArrowDown"},t,n,N,S)},trackMouse:!0});return r.a.createElement(a.Fragment,null,r.a.createElement(Y,{width:window.innerWidth+"px",height:window.innerHeight+"px"}),r.a.createElement(ee,C,r.a.createElement(ne,{className:"sideHolder"}),r.a.createElement(te,{id:"mainHolder",style:{height:u+"px",backgroundColor:t.BG_COLOR}},r.a.createElement(V,{blockWidth:E,data:N}),r.a.createElement(q,{gridHeight:O+"px"}),r.a.createElement(x,{width:u+"px"})),r.a.createElement(ne,{className:"sideHolder"})))};function re(){var e=Object(f.a)(["\n    width: 100%;\n    display: flex;\n    margin: 10px 0px;\n"]);return re=function(){return e},e}var oe=p.a.div(re()),ie=function(){var e=Object(a.useContext)(s),t=e.state;e.dispatch;return r.a.createElement(oe,{style:{height:t.HEADER_HEIGHT}},r.a.createElement("div",{style:{flex:"1 1 auto"}}),r.a.createElement("div",{style:{flex:"2 1 0",display:"flex",minWidth:"400px",maxWidth:"500px"}},r.a.createElement("div",{style:{flex:"1 1 auto",textAlign:"left",display:"flex",flexDirection:"column",justifyContent:"center",height:t.HEADER_HEIGHT,maxWidth:"50%"}},r.a.createElement("div",{style:{flex:"2 1 auto",textAlign:"left",fontSize:"3rem",fontWeight:"bold"}},t.GAME_NAME),r.a.createElement("div",{style:{flex:"1 1 auto",textAlign:"left",fontSize:"0.8rem"}},t.GAME_DESCRIPTION)),r.a.createElement("div",{style:{flex:"1 1 auto",color:t.COLOR_SCHEME[128]}},r.a.createElement("h1",null,t.score))),r.a.createElement("div",{style:{flex:"1 1 auto"}}))},ce=5,le="rgba(136, 129, 107, 1)",se="rgba(210, 207, 207, 0.8)",ue="2048+",de="Join those numbers and get as big as you can, 2048 is not the end!",fe="15vh",pe={2:"#f7f3e3",4:"#fff4cc",8:"#f9ca86",16:"#f7ae47",32:"#f29c71",64:"#d3481d",128:"#fff09b",256:"#ffe85c",512:"#ffd83f",1024:"#ffd017",2048:"#ffad16",super:"#0094c8"};var ve=function(){var e=d.a.getJSON("score");d.a.getJSON("BlocksPerLine")||d.a.set("BlocksPerLine",ce,{path:"/"});var t={isGameOver:!1,score:e||0,gameRestart:!1,isLevelUpdate:!1,BLOCKS_IN_ONE_LINE:d.a.getJSON("BlocksPerLine")?d.a.getJSON("BlocksPerLine"):ce,BG_COLOR:le,BG_BLOCK_COLOR:se,GAME_NAME:ue,GAME_DESCRIPTION:de,HEADER_HEIGHT:fe,COLOR_SCHEME:pe},n=Object(a.useReducer)(function(e,t){switch(t.type){case"gameOver":return Object(l.a)({},e,{isGameOver:t.isGameOver});case"updateScore":return Object(l.a)({},e,{score:t.score});case"restart":return Object(l.a)({},e,{gameRestart:t.gameRestart});case"setGameLevel":return Object(l.a)({},e,{BLOCKS_IN_ONE_LINE:t.gameLevel});case"isLevelUpdate":return Object(l.a)({},e,{isLevelUpdate:t.isLevelUpdate});default:return}},t),o=Object(c.a)(n,2),i=o[0],u=o[1];return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"App-header"},r.a.createElement(s.Provider,{value:{state:i,dispatch:u}},r.a.createElement(ie,null),r.a.createElement(ae,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(291);i.a.render(r.a.createElement(ve,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[106,1,2]]]);
//# sourceMappingURL=main.ab390c67.chunk.js.map